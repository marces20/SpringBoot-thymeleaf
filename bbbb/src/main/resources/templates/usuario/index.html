<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{fragments/main}">
 
<body>
<div layout:fragment="content">

	<div th:replace="usuario/nav-usuario :: nav-usuario"></div>	
		
	<!-- Content Wrapper. Contains page content -->
	  <div class="content-wrapper">
	   
		    <!-- Content Header (Page header) -->
		    <div class="content-header">
		      <div class="container-fluid"><div class="row mb-2"><div class="col-sm-12"></div></div></div> 
		    </div>
		    <!-- /.content-header -->
		
		    <!-- Main content -->
		    <section class="content">
		      <div class="container-fluid">
				<!-- Main row -->
		        <div class="row">
		          <div class="col-12">
					<div class="card">
		             	<div class="card-body">
		             	
		             	 <form th:action="@{/usuarios/index}" method="get">
			             	 <div class="row">
			             	 	<div class="col-sm-2">
			                      <div class="form-group">
				                    <label for="InputNombre">Nombre</label>
				                    <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre">
				                  </div>
			                    </div>
			                    <div class="col-sm-2">
			                      <div class="form-group">
				                    <label for="InputNombre">Nick</label>
				                    <input type="text" class="form-control" id="username" name="username" placeholder="Nick">
				                  </div>
			                    </div>
			                    <div class="col-sm-2">
			                      <!-- select -->
			                      <div class="form-group">
			                        <label>Activo</label>
			                        <select  name="estatus" id="estatus" class="form-control">
			                          <option value=1>SI</option>
			                          <option value=0>NO</option>
			                        </select>
			                      </div>
			                    </div>
			                    <div class="col-sm-2">
			                    	<div class="form-group">
				                    <button type="submit" class="btn btn-primary">Buscar</button>
				                    <a th:href="@{/usuarios/index}" class="btn btn-block btn-default" role="button" title="Limpiar">
			                      		  Limpiar
			                      	</a>
				                    
				                  </div>
			                    </div>
			             	 </div>		
		             	 </form> 	
						 
						              	 		
		                 <div class="row">
		                 <table id="example1" class="table table-striped table-bordered dataTable">
		                    <thead>
		                    <tr>
		                      <th>#</th>	
		                      <th>ID</th>
		                      <th>Nombre</th>
		                      <th>Username</th>
		                      <th>Email</th>
		                      <th>Status</th>	
		                      <th></th>
		                    </tr>
		                    </thead>
		                    <tbody>
			                    <tr th:each="usuario : ${usuarios}">
			                      <td></td>
			                      <td th:text="${usuario.id}"></td>
			                      <td th:text="${usuario.nombre}"></td>
			                      <td th:text="${usuario.username}"></td>
			                      <td th:text="${usuario.email}"></td>
			                      <td th:text="${usuario.estatus == 1 ? 'Activo' : 'Bloqueado' }"></td>
			                      <td>
			                      	<a th:href="@{/usuarios/delete/{id} (id=${usuario.id}) }" 
			                      		onclick="return confirm('¿Estas seguro?')" 
			                      		class="btn btn-danger btn-sm" role="button" title="Eliminar">
			                      		<i class="fas fa-trash" aria-hidden="true"></i>
			                      	</a>
			                      	<a th:href="@{/usuarios/changeStatus/{id}/{status} (id=${usuario.id},status=${usuario.estatus == 1 ? 0:1})} " onclick="return confirm('¿Quiere bloquear el acceso al usuario?')" 
			                      		
			                      		th:class="${usuario.estatus == 1}? 'btn btn-danger btn-sm':'btn btn-success btn-sm'"
			                      		role="button" title="Bloquear el acceso al sistema para este usuario.">
			                      		<i class="fas fa-lock" aria-hidden="true"></i>
			                      	</a>
			                      	<a th:href="@{/usuarios/edit/{id} (id=${usuario.id}) }" 
			                      		class="btn btn-success btn-sm" 
			                      		role="button" title="Editar el registro.">
			                      		<i class="fas fa-pencil-alt" aria-hidden="true"></i></a>
			                      </td>
			                    </tr>
		                    </tbody>
		                  </table>
		                   
		                </div><!-- Main row -->
		                  
		                 
		                  
	                    <div th:replace="fragments/paginator-nav :: paginator"></div> 
		              </div><!-- /.card-body -->
		            </div><!-- /.card -->
		          </div><!-- /.col-12 -->
				</div><!-- Main row -->
		        
		        
		        <!-- /.row -->
    		</div><!--/. container-fluid -->
		    </section>
		    <!-- /.content -->
	  </div>
	  <!-- /.content-wrapper -->
    
</div>
 
</body>
</html>